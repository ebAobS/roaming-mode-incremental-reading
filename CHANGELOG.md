# Changelog

## [4.2.2] (2025-11-26)

### Bug Fixes
* 优化文档指标修复效率，修复文档量很大时内存溢出导致修复失败的问题，现已测试可支撑 8000 篇文档

## [4.2.1] (2025-11-25)

### Features
* 微调侧边栏与面板的 UI 细节，统一色彩与间距，读写体验更顺滑
* 新增鸿蒙（HarmonyOS）与 iOS 端构建/打包支持，移动端部署范围更广
* README / README_zh_CN 优化，信息结构更清晰

## [4.2.0] (2025-11-25)

### Features
* 增加优先级对齐功能，将被智能推荐的文档的优先级数值分布调整为与相关性百分比值的分布一致，并保持极值不变，调整方法大致为将相关性值归一化，再反归一化为优先级的值。如果您的思源的文档数量极多，这个功能可大大加快您对众多文档的优先级管理。
* 增加设置项：自动优先级对齐
* 优化UI面板

## [4.1.1] (2025-11-23)

### Bug Fixes
* 修复移动端漫游浮窗按钮行为与侧边栏不同步的问题

## [4.1.0] (2025-11-23)

### Features
* 移动端浮窗一键漫游：点击紫色浮窗直接跳转到随机文档，无需弹窗操作，提供更流畅的移动端体验
* 优化移动端跳转响应速度：将延迟从300ms优化到100ms，提升操作流畅度
* 筛选方式与筛选内容改为左右并排展示，减少面板竖向空间占用
* 新增筛选历史：记录最近 10 次筛选选择（支持钉住防覆盖），筛选区域右上可快速查看并一键应用历史记录
* 新增漫游次数排序表：在侧边栏新增"漫游次数排序表"标签页，按漫游次数降序展示所有文档，支持刷新列表、点击打开文档、清0单个文档的漫游次数

### Bug Fixes
* 修复移动端浮窗点击无响应的问题，确保点击后能正确触发漫游并跳转

## [4.0.0] (2025-11-21)

### Features
* 全新智能推荐（多锚点内容相似度）：最近漫游 N + 漫游次数最多 M 作为锚点，TF-IDF + 余弦相似度，长文分段采样（标题+头/中/尾）与停用词过滤，减少长文稀释与性能压力
* 推荐配置独立 Tab：新增“智能推荐设置”页，可配置锚点数量、推荐条数、候选上限、采样段落上限
* 侧边栏直出推荐：在“筛选与指标”页底部直接显示推荐，点击即可打开
* 推荐点击即计为漫游：从推荐打开文档会同步刷新指标/优先级，并更新 custom-roaming-last / custom-roaming-count / custom-visit-count

### Bug Fixes
* 修复推荐 SQL 在有过滤条件时的列名歧义（自动添加表别名）

## [3.1.0] (2025-11-21)

### Features
* 将专门的渐进阅读漫游页面改为侧边栏逻辑，可直接在源文档浏览和编辑

### Bug Fixes
* 修复漫游时自动修复文档优先级效率低的问题

## [3.0.4] (2025-09-28)

### Bug Fixes
* 修复无法出现图标的BUG

## [3.0.3] (2025-09-28)

### Features
* 优化了手机布局
* 浮动按钮优化
* 手机支持直接打开tab

### Bug Fixes
* 编辑问题修复

## [3.0.2] (2025-09-24)

### Bug Fixes
* 修复重复显示问题

## [3.0.1] (2025-09-24)

### Features
* 完善SQL查询筛选功能，查询多个文档，并附有常见语句提示

### Bug Fixes
* 修复移动端不能全屏显示问题，修复某些机型字体大小问题

## [3.0.0] (2025-09-15)

### Features
* 上线移动端版本
* 性能优化

## [2.3.0] (2025-09-14)

### Features
* 增加编辑区锁定功能，并可设置默认锁定/不锁定
* 删除打开文档后点击插件图标按钮来漫游指定文档的方式，改为使用根文档选择的方式漫游指定文档
* 增强根文档筛选的功能。使用文档树选择文档，并保留直接输入ID方式
* 更新插件按钮图标
* 增加基于标签的筛选功能
* 修复自定义sql查询bug
* 修复漫游页面编辑区不能实时更新同步的问题，确保外部编辑后编辑区显示内容能实时更新

## [2.2.0] (2025-07-17)

### Features
* 增加清空所有文档指标和优先级数据功能，完全卸载插件前使用
* 清空功能会删除文档优先级、文档指标、漫游记录和访问记录属性数据
* 在设置面板批量优先级重置栏中新增清空数据按钮，支持进度显示和确认对话框

### Bug Fixes
* 修复5种修改文档优先级方式无法立即改变文档priority属性的问题
* 为所有优先级和指标调整方式添加了异步更新文档priority属性的功能

## [2.1.1] (2025-07-17)

### Bug Fixes
* 修复点图中拖动点时不跟手、瞬移的问题

### Features
* 增强点图功能，鼠标悬停可查看文档标题，拖动可改变优先级（所有点均可拖动）
* 点图中，右击某点可新标签页打开该文档

## [2.1.0] (2025-07-16)

### Bug Fixes
* 修复点图中文档点与标度不符合的问题
* 修复优先级列表中调整优先级后出现的显示错误问题

### Features
* 修改优先级显示精度为小数点后两位，微调精度由0.1改为0.01，长按可快速调整
* 增加批量随机重置文档优先级功能，将指定优先级范围的文档重置为随机的新优先级值

## [2.0.1] (2025-07-15)

### Bug Fixes
* 修复点图中红点拖动调整不跟手的问题
* 修复面板优先级调整后，点图红点不能及时更新的问题
* 删除继续漫游后的大加载图标及颜色变化，移动到了"继续漫游"按钮上

### Features
* 增加快捷键，可方便快速开始漫游、继续漫游、重置已访问

## [2.0.0] (2025-07-12)

### Features
* 删除一遍过模式，只保留渐进阅读模式
* 增加条带状点图，更清晰看到文档的优先级情况，可随时拖动调整优先级
* 可直接调整优先级，相关联的文档指标会随之等比例变化
* 增加已漫游文档列表+热力图，可批量调节优先级情况，可拖动排序，优先级自动变为前后两个文档优先级平均数
* 调整优化漫游面板UI，增加了漫游次数和上次访问时间
* 增加绝对优先级顺序漫游的功能，设置为1则绝对按照优先级顺序先后漫游文档，设置为0则完全按照优先级为权重概率的轮盘赌方式漫游，设置为小数则有概率按优先级绝对顺序漫游，否则轮盘赌

## [1.2.1] (2025-07-07)

### Features
* 增加设置项：每次开启思源时自动重置已访问文档记录

## [1.2.0] (2025-07-06)

### Features
* 针对特定文档，可以将其在渐进阅读页面打开，使用方法：先浏览该文档，再点击顶栏插件按钮即可跳转
* 渐进阅读页面取消了只读，可简单编辑的功能
* 将指标参数加减按钮跨度由0.1改为了1
* 笔记本选择可多选，可自由组合

## [1.1.1] (2025-05-12)

### Bug Fixes
* 修复了一遍过模式下显示剩余文档数量不正确的问题
* 优化了自定义SQL模式下的剩余文档数量计算方式

## [1.1.0] (2025-05-08)

### Enhancement
* 提高了机遇优先级的轮盘赌推荐算法稳定性
* 增加了计算概率时的提示信息
* 更改了设置页面，右键顶栏插件图标即可进入设置页面
* 设定了所有文档指标默认值为5
* 修改指标信息时增加了为所有文档更新的动作，确保指标值不为0
* 查看文档指标信息时，出现为0或者空值的指标，自动修正为默认值5
* 增加了漫游历史查看功能

## [1.0.1] (2025-05-07)

### Enhancement
* 美化提示信息，增加诗意表达
* 改进帮助文档链接，指向GitHub仓库中文文档

## [1.0.0] (2025-05-06)

### Features
* First available version of Incremental Reading
* Added user-defined article parameters and weights
* Added priority calculation based on parameters
* Implemented roulette wheel algorithm for document recommendation
* Added support for notebook and root document filtering
* Added support for completely random "one-pass" mode
* Added support for completely random "one-pass" mode